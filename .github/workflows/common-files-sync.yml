name: common-files-sync

on:
  push:
    branches:
      - master
    paths:
      - 'common-files/**'
      - '.github/workflows/common-files-sync.yml'

jobs:

  sync:

    strategy:
      fail-fast: false
      matrix:
        repo:
          - s4u/maven-settings-action
          - s4u/testing

    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v2.3.3

      - name: Sync
        uses: slawekjaranowski/github-action-file-sync@fix-4
        with:
          TOKEN: ${{ secrets.TECH_TOKEN }}
          REPOSITORIES: ${{ matrix.repo }}
          FILES: common-files-x/.
